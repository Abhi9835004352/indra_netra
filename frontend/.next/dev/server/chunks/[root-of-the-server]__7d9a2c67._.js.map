{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///D:/indra_netra/frontend/pages/api/inference.js"],"sourcesContent":["// Proxy API route for LSTM panic detection\r\n// This proxies requests to the backend to avoid CORS issues\r\n\r\nexport const config = {\r\n  api: {\r\n    bodyParser: {\r\n      sizeLimit: '50mb',\r\n    },\r\n  },\r\n}\r\n\r\nexport default async function handler(req, res) {\r\n  if (req.method !== 'POST') {\r\n    return res.status(405).json({ error: 'Method not allowed' })\r\n  }\r\n\r\n  try {\r\n    const response = await fetch('http://localhost:5001/api/inference/lstm-panic-detect', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/x-www-form-urlencoded',\r\n      },\r\n      body: req.body,\r\n    })\r\n\r\n    if (!response.ok) {\r\n      console.error(`Backend returned ${response.status}`)\r\n      return res.status(response.status).json({ error: 'Backend inference failed' })\r\n    }\r\n\r\n    const data = await response.json()\r\n    return res.status(200).json(data)\r\n  } catch (error) {\r\n    console.error('Inference proxy error:', error.message)\r\n    return res.status(500).json({ error: 'Inference request failed', message: error.message })\r\n  }\r\n}\r\n"],"names":[],"mappings":"AAAA,2CAA2C;AAC3C,4DAA4D;;;;;;;AAErD,MAAM,SAAS;IACpB,KAAK;QACH,YAAY;YACV,WAAW;QACb;IACF;AACF;AAEe,eAAe,QAAQ,GAAG,EAAE,GAAG;IAC5C,IAAI,IAAI,MAAM,KAAK,QAAQ;QACzB,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,OAAO;QAAqB;IAC5D;IAEA,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,yDAAyD;YACpF,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,IAAI,IAAI;QAChB;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,QAAQ,KAAK,CAAC,CAAC,iBAAiB,EAAE,SAAS,MAAM,EAAE;YACnD,OAAO,IAAI,MAAM,CAAC,SAAS,MAAM,EAAE,IAAI,CAAC;gBAAE,OAAO;YAA2B;QAC9E;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;IAC9B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,0BAA0B,MAAM,OAAO;QACrD,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,OAAO;YAA4B,SAAS,MAAM,OAAO;QAAC;IAC1F;AACF"}}]
}